<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minnie's Gallery - The Eternal Rose</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Bodoni+Moda:ital,opsz,wght@0,6..96,400;0,6..96,900;1,6..96,400&family=Inter:wght@300;400;600&display=swap"
        rel="stylesheet">
    <!-- LXGW WenKai (Handwritten Style) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.7.0/style.css">

    <style>
        /* --- æ ¸å¿ƒè®¾è®¡ï¼šVignelli çš„éª¨æ¶ + ç«ç‘°çŸ³è‹±æ˜Ÿäº‘ (The Rose Quartz Nebula) --- */

        :root {
            /* èƒŒæ™¯ (Midnight Rose)ï¼šåˆå¤œç«ç‘° - æ·±é‚ƒç´«ç½—å…°å¤œç©º */
            --bg-color: #1a0b2a;

            /* --- çˆ±æ„æ˜Ÿäº‘é…è‰²æ–¹æ¡ˆ --- */
            /* å…‰æ ¸ (The Heart)ï¼šéœ“è™¹ç«ç‘°ç²‰ */
            --love-core: rgba(255, 42, 120, 0.7);
            /* å…‰æ™• (The Aura)ï¼šæ¢¦å¹»ç´«é›¾ */
            --love-glow: rgba(180, 60, 255, 0.4);
            /* è¾¹ç¼˜ (The Mist)ï¼šæ·±æµ·è“ç´« */
            --love-mist: rgba(40, 10, 60, 0.3);

            /* è¾…åŠ©è‰² */
            --grid-line: rgba(255, 200, 220, 0.12);
            /* æç»†çš„ç²‰ç™½çº¿ */
            --text-main: rgba(255, 250, 252, 0.95);
        }

        body {
            background-color: var(--bg-color);
            font-family: 'Inter', sans-serif;
            color: white;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            cursor: none;
            transition: background-color 1.5s ease;
        }

        /* --- 1. æ°›å›´å…‰åœº (The Romantic Nebula) --- */
        /* è¿™æ˜¯ä¸€å›¢ç»šçƒ‚ã€æš§æ˜§ã€æµåŠ¨çš„èƒ½é‡ */
        .ambient-light {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 160vw;
            height: 160vw;
            background: radial-gradient(circle at center,
                    var(--love-core) 0%,
                    /* æ ¸å¿ƒï¼šç«ç‘°çŸ³è‹± */
                    var(--love-glow) 35%,
                    /* ä¸­å±‚ï¼šçŠç‘šæ©˜ */
                    var(--love-mist) 65%,
                    /* å¤–å±‚ï¼šç´«ç½—å…°é›¾ */
                    var(--bg-color) 85%
                    /* èå…¥æ·±ç©º */
                );
            z-index: -2;
            /* å‘¼å¸èŠ‚å¥æ›´æ·±æ²‰ */
            animation: pulse 15s ease-in-out infinite alternate;
            pointer-events: none;
            mix-blend-mode: screen;
        }

        @keyframes pulse {
            0% {
                opacity: 0.7;
                transform: translate(-50%, -50%) scale(0.95);
                filter: hue-rotate(0deg);
            }

            100% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1.1);
                filter: hue-rotate(10deg);
            }
        }

        /* å™ªç‚¹å±‚ï¼šå¤©é¹…ç»’è´¨æ„Ÿ */
        .noise-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            z-index: -1;
            pointer-events: none;
            mix-blend-mode: overlay;
        }

        /* --- 2. ç»“æ„ç½‘æ ¼ --- */
        .grid-container {
            position: relative;
            z-index: 10;
            width: 100%;
            height: 100%;
            padding: 40px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .heavy-rule {
            width: 100%;
            height: 1px;
            /* æ›´ç²¾è‡´çš„çº¿æ¡ */
            background: var(--grid-line);
            margin: 0;
            transform-origin: left;
            transform: scaleX(0);
            animation: drawLine 1.5s cubic-bezier(0.19, 1, 0.22, 1) forwards;
        }

        .heavy-rule.delay {
            animation-delay: 0.2s;
        }

        @keyframes drawLine {
            to {
                transform: scaleX(1);
            }
        }

        /* æ ‡é¢˜æ’ç‰ˆ */
        .typography-hero {
            font-family: 'Bodoni Moda', serif;
            font-size: clamp(3rem, 12vw, 9rem);
            font-weight: 900;
            line-height: 0.85;
            letter-spacing: -0.04em;
            text-transform: uppercase;
            /* å…³é”®ï¼šExclusion æ¨¡å¼é…åˆæ–°çš„ç«ç‘°èƒŒæ™¯ï¼Œé€å‡ºæ¸©æ¶¦çš„ç‰çŸ³å…‰æ³½ */
            mix-blend-mode: exclusion;
            color: rgba(255, 240, 245, 0.9);
            opacity: 0;
            animation: slideUp 1.2s cubic-bezier(0.19, 1, 0.22, 1) forwards;
            animation-delay: 0.5s;
        }

        .typography-swiss {
            font-family: 'Inter', sans-serif;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-weight: 400;
            opacity: 0.7;
            color: #dec8d0;
            /* ç°ç«ç‘°è‰² */
        }

        .meta-info {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            padding-top: 20px;
        }

        /* --- 3. äº¤äº’å…‰æ ‡ (The Rose Torch) --- */
        .cursor-torch {
            position: fixed;
            width: 400px;
            height: 400px;
            /* å…‰æ ‡æ˜¯ä¸€å›¢æµåŠ¨çš„ç«ç‘°æ˜Ÿäº‘ */
            background: radial-gradient(circle, rgba(255, 180, 195, 0.12) 0%, rgba(255, 120, 100, 0.05) 50%, transparent 70%);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            mix-blend-mode: screen;
            z-index: 20;
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            /* æ›´ä¸æ»‘çš„è·Ÿéš */
        }

        .cursor-dot {
            position: fixed;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 21;
            /* åŒçº¢å¿ƒ emoji å…‰æ ‡ - ä¸å›¾åº“é¡µé¢ä¸€è‡´ */
            font-size: 16px;
            line-height: 1;
            text-shadow: 0 0 12px rgba(255, 100, 150, 0.9);
            /* ç§»é™¤æ—§çš„åœ†ç‚¹æ ·å¼ */
            width: auto;
            height: auto;
            background: transparent;
            border-radius: 0;
        }

        .cursor-dot::before {
            content: 'ğŸ’•';
        }

        /* --- 4. æŒ‰é’® --- */
        .btn-minimal {
            background: transparent;
            border: 1px solid rgba(255, 210, 220, 0.25);
            color: rgba(255, 235, 240, 0.9);
            padding: 16px 32px;
            font-family: 'Inter', sans-serif;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            cursor: none;
            transition: all 0.6s cubic-bezier(0.19, 1, 0.22, 1);
            position: relative;
            overflow: hidden;
        }

        .btn-minimal::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            /* æ‚¬åœæ—¶çš„æ¸å˜ï¼šçŠç‘šæ©˜ -> ç«ç‘°ç²‰ */
            background: linear-gradient(90deg, #ff9a8b 0%, #ff6a88 55%, #ff99ac 100%);
            z-index: -1;
            transform: scaleX(0);
            transform-origin: right;
            transition: transform 0.6s cubic-bezier(0.19, 1, 0.22, 1);
        }

        .btn-minimal:hover {
            color: #4a0e1c;
            /* æ·±ç´«çº¢å­—ï¼Œå¯¹æ¯”å¼ºçƒˆ */
            border-color: transparent;
            padding-left: 40px;
            /* ç»†å¾®ä½ç§»ï¼Œå¢åŠ äº’åŠ¨æ„Ÿ */
            padding-right: 40px;
        }

        .btn-minimal:hover::before {
            transform: scaleX(1);
            transform-origin: left;
        }

        @keyframes slideUp {
            from {
                transform: translateY(100%);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .fade-in {
            opacity: 0;
            animation: fadeIn 1s ease forwards;
            animation-delay: 1s;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }

        /* æ—¥æœŸè®¡æ•°å™¨ */
        .counter-bg {
            font-family: 'Bodoni Moda';
            font-size: 20vw;
            line-height: 0.8;
            /* Ruogu Mod: å¢åŠ å¾®å¼±å¡«å……ï¼Œè®©æ•°å­—ä¸å†ç©ºæ´ */
            color: rgba(255, 235, 240, 0.02);
            /* Ruogu Mod: å¢å¼ºæè¾¹å¯è§åº¦ï¼Œä½¿ç”¨æ›´æ¸©æŸ”çš„ç²‰è‰² */
            -webkit-text-stroke: 1px rgba(255, 210, 220, 0.5);
            /* Ruogu Mod: å»é™¤æ•´ä½“é€æ˜åº¦ï¼Œæ”¹ç”¨é¢œè‰²æ§åˆ¶ï¼Œå¹¶æ·»åŠ é«˜çº§æŸ”å…‰ */
            opacity: 1;
            text-shadow: 0 0 40px rgba(255, 100, 120, 0.15);
            /* æ·»åŠ æ··åˆæ¨¡å¼è®©å®ƒä¸èƒŒæ™¯æ›´å¥½åœ°èåˆä½†åˆæ¸…æ™° */
            mix-blend-mode: plus-lighter;
        }

        /* ============================================================
           æ–¹æ¡ˆ Aï¼šå…¥å£é¡µç§»åŠ¨ç«¯é€‚é…
           ============================================================ */
        @media (max-width: 600px) {
            .grid-container {
                padding: 24px 20px;
            }

            /* æ ‡é¢˜ç¼©å° */
            .typography-hero {
                font-size: clamp(2.5rem, 18vw, 5rem);
                line-height: 0.9;
            }

            /* å‰¯æ ‡é¢˜ */
            .typography-swiss {
                font-size: 0.65rem;
                letter-spacing: 0.08em;
            }

            /* æ—¥æœŸè®¡æ•°å™¨è°ƒå° */
            .counter-bg {
                font-size: 25vw;
            }

            /* åº•éƒ¨ä¿¡æ¯åŒºåŸŸ */
            .meta-info {
                flex-direction: column;
                align-items: center;
                gap: 24px;
                text-align: center;
            }

            .meta-info .max-w-md {
                max-width: 100%;
            }

            .meta-info p.font-serif {
                font-size: 1rem;
                line-height: 1.5;
            }

            .meta-info .typography-swiss {
                font-size: 0.6rem;
                line-height: 1.6;
            }

            /* æŒ‰é’® */
            .btn-minimal {
                padding: 14px 28px;
                font-size: 0.7rem;
                width: 100%;
                max-width: 280px;
                text-align: center;
            }

            /* éšè—è‡ªå®šä¹‰å…‰æ ‡ */
            .cursor-torch,
            .cursor-dot {
                display: none !important;
            }

            body {
                cursor: auto;
            }

            /* å‡å°‘åŠ¨ç”»å¤æ‚åº¦ */
            .ambient-light {
                animation-duration: 20s;
            }
        }

        /* æ›´å°å±å¹•ï¼ˆiPhone SE ç­‰ï¼‰ */
        @media (max-width: 375px) {
            .typography-hero {
                font-size: 2.2rem;
            }

            .counter-bg {
                font-size: 28vw;
            }
        }
    </style>
</head>

<body>

    <!-- æ°›å›´å…‰åœº (The Rose Nebula) -->
    <div class="ambient-light"></div>
    <div class="noise-overlay"></div>

    <!-- å…‰æ ‡ -->
    <div class="cursor-torch" id="torch"></div>
    <div class="cursor-dot" id="dot"></div>

    <div class="grid-container">

        <header class="w-full">
            <div class="heavy-rule"></div>
            <div class="flex justify-between mt-4 fade-in">
                <span class="typography-swiss">For My Wife</span>
                <span class="typography-swiss text-right">Est. 2026</span>
            </div>
        </header>

        <main class="flex-grow flex flex-col justify-center relative overflow-hidden">
            <h1 class="typography-hero">
                Visual<br>
                Letters
            </h1>

            <div class="absolute right-0 bottom-0 pointer-events-none mix-blend-screen">
                <span class="counter-bg" id="day-counter">001</span>
            </div>
        </main>

        <footer class="w-full">
            <div class="heavy-rule delay"></div>
            <div class="meta-info fade-in">
                <div class="max-w-md">
                    <!-- å¼•ç”¨æ–‡å­—ï¼šæ¸©æŸ”çš„ç²‰ç™½ -->
                    <p class="font-serif italic text-xl mb-2" style="color: #fff0f5;">
                        "Infinite shades of love."
                    </p>
                    <p class="typography-swiss text-xs leading-relaxed opacity-80">
                        FROM CYBERPUNK TO IMPRESSIONISM<br>
                        A DAILY ARCHIVE OF AFFECTION.
                    </p>
                </div>

                <button onclick="enterGallery()" class="btn-minimal group">
                    <span class="relative z-10" id="unwrap-btn">Unwrap Day 001</span>
                </button>
            </div>
        </footer>

    </div>

    <script>
        const torch = document.getElementById('torch');
        const dot = document.getElementById('dot');
        const btn = document.querySelector('.btn-minimal');
        const body = document.querySelector('body');

        let mouseX = window.innerWidth / 2;
        let mouseY = window.innerHeight / 2;

        // ============================================================
        // åŠ¨æ€æ—¥æœŸè®¡ç®—
        // ============================================================
        const RELATIONSHIP_START = new Date('2009-12-10T00:00:00');
        const PROJECT_START = new Date('2026-01-01T00:00:00');

        function toUtcDay(date) {
            return Date.UTC(date.getFullYear(), date.getMonth(), date.getDate());
        }

        function diffDays(start, end) {
            return Math.floor((toUtcDay(end) - toUtcDay(start)) / (1000 * 60 * 60 * 24));
        }

        function calculateRelationshipDay() {
            const today = new Date();
            return Math.max(1, diffDays(RELATIONSHIP_START, today) + 1);
        }

        function calculateProjectNo() {
            const today = new Date();
            if (toUtcDay(today) < toUtcDay(PROJECT_START)) {
                return 1;
            }
            return Math.max(1, diffDays(PROJECT_START, today) + 1);
        }

        // æ›´æ–°é¡µé¢ä¸Šçš„åŠ¨æ€æ•°å­—
        const dayNum = calculateRelationshipDay();
        const projectNo = calculateProjectNo();
        const dayStr = String(dayNum).padStart(3, '0');
        const noStr = String(projectNo).padStart(3, '0');

        // "For My Wife" ç°åœ¨æ˜¯é™æ€æ–‡å­—ï¼Œä¸éœ€è¦åŠ¨æ€æ›´æ–°
        document.getElementById('day-counter').textContent = dayStr;
        document.getElementById('unwrap-btn').textContent = `Unwrap Day ${dayStr}`;

        // ä½¿ç”¨ rAF ä¼˜åŒ–å…‰æ ‡è·Ÿéšï¼Œå¢åŠ ä¸€ç‚¹ç‚¹æƒ¯æ€§å»¶è¿Ÿæ„Ÿ
        function animateCursor() {
            // è¿™é‡Œå¯ä»¥åŠ ä¸€ç‚¹ç¼“åŠ¨é€»è¾‘ï¼Œä½† CSS transition å·²ç»å¤„ç†äº†å¤§éƒ¨åˆ†
            torch.style.left = mouseX + 'px';
            torch.style.top = mouseY + 'px';
            dot.style.left = mouseX + 'px';
            dot.style.top = mouseY + 'px';
            requestAnimationFrame(animateCursor);
        }
        animateCursor();

        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
        });

        btn.addEventListener('mouseenter', () => {
            // æ‚¬åœæ—¶ï¼Œå…‰èŠ’å˜å¾—æ›´ç‚½çƒ­ã€æ›´åƒçŠç‘š
            torch.style.width = "550px";
            torch.style.height = "550px";
            // çŠç‘šæ©˜è‰²çš„å…‰æ™•çˆ†å‘
            torch.style.background = "radial-gradient(circle, rgba(255, 140, 110, 0.25) 0%, rgba(255, 100, 120, 0.15) 50%, transparent 70%)";
            // åŒçº¢å¿ƒå˜å¤§æ›´å¯çˆ±
            dot.style.transform = "translate(-50%, -50%) scale(1.3)";
        });

        btn.addEventListener('mouseleave', () => {
            // æ¢å¤æ¸©æŸ”çš„ç«ç‘°ç²‰
            torch.style.width = "400px";
            torch.style.height = "400px";
            torch.style.background = "radial-gradient(circle, rgba(255, 180, 195, 0.12) 0%, transparent 70%)";
            // æ¢å¤æ­£å¸¸å¤§å°
            dot.style.transform = "translate(-50%, -50%) scale(1)";
        });

        function enterGallery() {
            const light = document.querySelector('.ambient-light');
            const content = document.querySelector('.grid-container');

            content.style.transition = "opacity 1.2s ease";
            content.style.opacity = "0";

            // èƒŒæ™¯å˜ä¸ºæ·±æ²‰çš„ç´«ç½—å…°å¤œè‰²ï¼Œå‡†å¤‡è¿æ¥ç”»ä½œ
            body.style.backgroundColor = "#1a050a";

            // å…‰èŠ’çˆ†å‘ï¼šå½»åº•çš„ç²‰è‰²æµªæ¼«
            light.style.transition = "transform 2s cubic-bezier(0.19, 1, 0.22, 1), opacity 2s ease-in";
            light.style.transform = "translate(-50%, -50%) scale(4.5)";
            light.style.opacity = "1";
            // çˆ†å‘æ—¶çš„é¢œè‰²ï¼šä»ä¸­å¿ƒé«˜äº®ç™½ç²‰ -> çŠç‘šæ©˜ -> è¾¹ç¼˜æ·±ç«ç‘°
            light.style.background = "radial-gradient(circle, #fff5f7 0%, #ffcfd8 30%, #ff9a8b 60%, transparent 100%)";

            setTimeout(() => {
                // è·³è½¬åˆ°ç›¸å†Œé¡µé¢
                location.href = "gallery.html";
            }, 2000);
        }
    </script>
</body>

</html>